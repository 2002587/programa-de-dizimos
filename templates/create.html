{% extends 'base.html' %}

{% block content %}
<h1>
    {% block title %} Envio de nova contribuição {% endblock %}
</h1>

<form method="post">
    <div class="form-group">
        <label for="title">Nome do Contribuidor</label>
        <input type="text" name="title"
               placeholder="Nome do contribuidor" class="form-control"
               value="{{ request.form['title'] }}"
        </input>
    </div>

    <div class="form-group">
        <label for="telefone">Número Telefone</label>
        <input type="number" name="telefone"
               placeholder="Número do Telefone" class="form-control"
               value="{{ request.form['telefone'] }}"
        </input>
    </div>


    <div class="form-group">
        <label for="campanha">Campanha</label>
        <input type="text" name="campanha"
               placeholder="Nome da Campanha" class="form-control"
               value="{{ request.form['campanha'] }}"
        </input>
    </div>

    <div class="form-group">
        <label for="content">Valor da contribuição:</label>
        <textarea name="content" placeholder="valor da contribuição"
                  class="form-control">{{ request.form['content'] }}</textarea>

    </div>


<input type="file" id="upload"/>
<img id="img" style="width: 500px"/>
<script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZOsEEamd0YGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous">
</script>

<script>
    $(function(){
        $('#upload').change(function(){
        const file = $(this)[0].files[0]
        const fileReader = new FileReader()
        fileReader.onloadend = function(){
            $('#img').attr('src',fileReader.result)
        }
        fileReader.readAsDataURL(file)
        })
    })
</script>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Enviar contribuição</button>
    </div>

</form>

{% endblock %}


